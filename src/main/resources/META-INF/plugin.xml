<idea-plugin>
    <id>com.cherryleafroad.rust.playground</id>
    <name>Rust Playground</name>
    <vendor url="https://github.com/cherryleafroad/" email="cherryleafroad.software@gmail.com">Cherryleafroad Software</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.rust.lang</depends>
    <depends>org.toml.lang</depends>

    <description>A powerful local Rust playground, straight from your IDE! Inspired by the official Rust playground, but more convenient to use!</description>

    <change-notes><![CDATA[
<h3>2.0.0-beta3</h3>
<ul>
    <li>New editor toolbar system</li>
    <li>Using comments for controlling options is now deprecated and now unsupported</li>
    <li>Tons of bug fixes</li>
    <li>See a new bug? Please report it!</li>
</ul>
    ]]></change-notes>

    <extensions defaultExtensionNs="com.intellij">
        <scratch.creationHelper language="Rust" implementationClass="com.cherryleafroad.rust.playground.scratch.RustScratchCreationHelper"/>
        <fileDocumentManagerListener implementation="com.cherryleafroad.rust.playground.listeners.FileListener"/>

        <projectConfigurable instance="com.cherryleafroad.rust.playground.config.SettingsConfigurable" id="Rust.Playground.Settings"
                             displayName="Playground" nonDefaultProject="true" groupId="language" parentId="language.rust"/>

        <notificationGroup id="Rust Playground" displayType="BALLOON"/>
        <editorNotificationProvider implementation="com.cherryleafroad.rust.playground.notifications.CargoPlayNotInstalledNotificationProvider"/>
        <editorNotificationProvider implementation="com.cherryleafroad.rust.playground.notifications.CargoPlayToolchainMissingNotificationProvider"/>
        <editorNotificationProvider implementation="com.cherryleafroad.rust.playground.notifications.CargoPlayNotCargoProjectNotificationProvider"/>

        <fileEditorProvider implementation="com.cherryleafroad.rust.playground.scratch.ui.RustScratchFileEditorProvider"/>
    </extensions>

    <applicationListeners>
        <listener class="com.cherryleafroad.rust.playground.listeners.ProjectManagerListener"
                  topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </applicationListeners>

    <actions>
        <action id="Rust.Playground.Run" class="com.cherryleafroad.rust.playground.actions.ExecuteAction"
                text="Run in Playground" description="Run scratch in Rust Playground"
                icon="AllIcons.Actions.Execute">
            <keyboard-shortcut first-keystroke="control alt COMMA" keymap="$default"/>
            <add-to-group group-id="RunContextPopupGroup" anchor="last"/>
        </action>

        <group id="Rust.Playground.RunMenu" class="com.cherryleafroad.rust.playground.actions.PlaygroundGroup">
            <reference id="Rust.Playground.Run"/>
            <add-to-group group-id="RunMenu" anchor="before" relative-to-action="ChooseRunConfiguration"/>
            <separator/>
        </group>
    </actions>
</idea-plugin>
